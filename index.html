<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø³Ø§Ù…Ø§Ù†Ù‡ Ù…Ø¯ÛŒØ±ÛŒØª ÙˆÙ‚Ø§ÛŒØ¹ Ù¾ÛŒØ´Ø±ÙØªÙ‡</title>
    <style>
        :root {
            --primary: #4361ee;
            --secondary: #3a0ca3;
            --accent: #4cc9f0;
            --success: #2ecc71;
            --warning: #f39c12;
            --danger: #e74c3c;
            --dark: #2c3e50;
            --light: #f8f9fa;
            --gray: #95a5a6;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 10px;
            direction: rtl;
            font-size: 14px;
        }
        
        /* Ø³Ø§Ø¹Øª Ø¨Ø§Ù„Ø§ Ú†Ù¾ */
        .top-clock {
            position: fixed;
            top: 10px;
            left: 10px;
            background: white;
            padding: 8px 15px;
            border-radius: 50px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            font-family: 'Courier New', monospace;
            font-weight: bold;
            color: var(--dark);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 8px;
            border: 2px solid var(--primary);
            font-size: 12px;
        }
        
        .container {
            max-width: 100%;
            margin: 60px auto 20px;
            padding: 0 10px;
        }
        
        /* Ú©Ø§Ø±Øª */
        .card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            overflow: hidden;
            margin-bottom: 20px;
            max-height: calc(100vh - 80px);
            overflow-y: auto;
        }
        
        .card-header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 15px 20px;
        }
        
        .card-body {
            padding: 20px;
        }
        
        /* ÙØ±Ù…â€ŒÙ‡Ø§ */
        .form-tabs {
            display: flex;
            background: #f5f5f5;
            border-radius: 10px;
            padding: 3px;
            margin: 15px auto;
            max-width: 100%;
        }
        
        .tab-btn {
            flex: 1;
            padding: 10px 5px;
            border: none;
            background: none;
            font-size: 13px;
            font-weight: bold;
            cursor: pointer;
            color: var(--gray);
            border-radius: 8px;
            transition: all 0.3s;
        }
        
        .tab-btn.active {
            background: white;
            color: var(--primary);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .form-container {
            display: none;
            animation: fadeIn 0.5s;
        }
        
        .form-container.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            color: var(--dark);
            font-weight: 600;
            font-size: 13px;
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: border 0.3s;
        }
        
        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 2px rgba(67, 97, 238, 0.1);
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(67, 97, 238, 0.3);
        }
        
        .btn-secondary {
            background: white;
            color: var(--primary);
            border: 1px solid var(--primary);
        }
        
        .btn-sm {
            padding: 6px 12px;
            font-size: 12px;
        }
        
        /* Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ */
        #dashboard {
            display: none;
        }
        
        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: white;
            border-bottom: 1px solid #eee;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
            flex: 1;
            min-width: 0;
        }
        
        .user-avatar {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: white;
            box-shadow: 0 5px 15px rgba(67, 97, 238, 0.3);
            flex-shrink: 0;
        }
        
        .dashboard-nav {
            display: flex;
            gap: 10px;
            padding: 15px 20px;
            background: white;
            border-bottom: 1px solid #eee;
            flex-wrap: wrap;
            overflow-x: auto;
        }
        
        .nav-btn {
            padding: 8px 15px;
            background: #f8f9fa;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 5px;
            transition: all 0.3s;
            font-size: 12px;
            white-space: nowrap;
        }
        
        .nav-btn:hover,
        .nav-btn.active {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            transform: translateY(-1px);
        }
        
        .dashboard-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            padding: 20px;
        }
        
        @media (max-width: 768px) {
            .dashboard-content {
                grid-template-columns: 1fr;
            }
        }
        
        /* Ø¢Ù…Ø§Ø± */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .stat-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            text-align: center;
            transition: transform 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-3px);
        }
        
        /* Ø³Ø§Ø¹Øª Ø¢Ù†Ø§Ù„ÙˆÚ¯ */
        .analog-clock-container {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
            text-align: center;
        }
        
        .analog-clock {
            width: 150px;
            height: 150px;
            margin: 0 auto;
            position: relative;
            background: #f8f9fa;
            border-radius: 50%;
            border: 8px solid var(--primary);
        }
        
        .clock-hand {
            position: absolute;
            bottom: 50%;
            left: 50%;
            transform-origin: bottom;
            background: var(--dark);
            border-radius: 3px;
        }
        
        .hour-hand {
            width: 4px;
            height: 40px;
            background: var(--dark);
        }
        
        .minute-hand {
            width: 3px;
            height: 55px;
            background: var(--primary);
        }
        
        .second-hand {
            width: 2px;
            height: 60px;
            background: var(--danger);
        }
        
        .center-dot {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 10px;
            height: 10px;
            background: var(--danger);
            border-radius: 50%;
            z-index: 10;
        }
        
        /* Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ† */
        .admin-panel {
            position: fixed;
            top: 0;
            right: -100%;
            width: 100%;
            height: 100vh;
            background: white;
            box-shadow: -5px 0 25px rgba(0,0,0,0.2);
            z-index: 2000;
            transition: right 0.3s;
            padding: 20px;
            overflow-y: auto;
        }
        
        .admin-panel.active {
            right: 0;
        }
        
        .users-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            font-size: 12px;
        }
        
        .users-table th {
            background: #f8f9fa;
            padding: 10px;
            text-align: right;
            border-bottom: 1px solid #eee;
        }
        
        .users-table td {
            padding: 10px;
            border-bottom: 1px solid #eee;
        }
        
        /* ÙˆÙ‚Ø§ÛŒØ¹ */
        .events-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
            max-height: 300px;
            overflow-y: auto;
            padding: 5px;
        }
        
        .event-item {
            background: white;
            padding: 12px;
            border-radius: 8px;
            border-left: 3px solid var(--primary);
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            font-size: 13px;
        }
        
        /* Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø³ØªÙ‡â€ŒÙ‡Ø§ */
        .categories-management {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }
        
        .categories-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin: 10px 0;
        }
        
        .category-tag {
            background: #f0f7ff;
            border: 1px solid var(--primary);
            color: var(--primary);
            padding: 5px 10px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 12px;
        }
        
        .category-tag button {
            background: none;
            border: none;
            color: var(--danger);
            cursor: pointer;
            padding: 0 3px;
            font-size: 14px;
        }
        
        .add-category-form {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        /* Ø¬Ø³ØªØ¬Ùˆ */
        .search-results {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            max-height: 200px;
            overflow-y: auto;
        }
        
        /* Ø¢Ù¾Ù„ÙˆØ¯ */
        .upload-area {
            border: 2px dashed #ddd;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            margin: 15px 0;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }
        
        .upload-area:hover {
            border-color: var(--primary);
            background: rgba(67, 97, 238, 0.05);
        }
        
        .upload-area.dragover {
            border-color: var(--primary);
            background: rgba(67, 97, 238, 0.1);
            transform: scale(1.02);
        }
        
        /* Ù…ÙˆØ¯Ø§Ù„ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            animation: fadeIn 0.3s ease;
        }
        
        .modal {
            background: white;
            border-radius: 12px;
            padding: 20px;
            width: 90%;
            max-width: 600px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            animation: slideUp 0.3s ease;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .modal-header h3 {
            margin: 0;
            color: #333;
            font-size: 18px;
        }
        
        .close-modal {
            background: none;
            border: none;
            font-size: 28px;
            cursor: pointer;
            color: #666;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s;
        }
        
        .close-modal:hover {
            background-color: #f5f5f5;
        }
        
        .modal-body {
            padding: 10px 0;
        }
        
        /* Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ ÙØ§ÛŒÙ„ */
        .btn-view, .btn-download, .btn-delete {
            transition: all 0.3s;
        }
        
        .btn-view:hover {
            background: #2980b9 !important;
            transform: translateY(-2px);
        }
        
        .btn-download:hover {
            background: #27ae60 !important;
            transform: translateY(-2px);
        }
        
        .btn-delete:hover {
            background: #c0392b !important;
            transform: translateY(-2px);
        }
        
        /* Ù†ÙˆØªÛŒÙÛŒÚ©ÛŒØ´Ù† */
        .notification {
            position: fixed;
            bottom: 20px;
            left: 20px;
            padding: 12px 20px;
            border-radius: 8px;
            background: var(--dark);
            color: white;
            box-shadow: 0 3px 15px rgba(0,0,0,0.2);
            z-index: 3000;
            display: none;
            animation: slideIn 0.3s;
            font-size: 13px;
            max-width: 300px;
        }
        
        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* ØµÙØ­Ù‡ */
        .page {
            display: none;
        }
        
        .page.active {
            display: block;
        }
        
        /* Ø§Ù†ÛŒÙ…ÛŒØ´Ù†â€ŒÙ‡Ø§ */
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        /* Ø§Ø³Ú©Ø±ÙˆÙ„ */
        .card::-webkit-scrollbar {
            width: 6px;
        }
        
        .card::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }
        
        .card::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 3px;
        }
        
        .card::-webkit-scrollbar-thumb:hover {
            background: var(--secondary);
        }
        
        .events-list::-webkit-scrollbar {
            width: 4px;
        }
        
        .events-list::-webkit-scrollbar-thumb {
            background: var(--gray);
            border-radius: 2px;
        }
    </style>
</head>
<body>
    <!-- Ø³Ø§Ø¹Øª -->
    <div class="top-clock">
        <span>ğŸ•</span>
        <span id="liveClock">--:--:--</span>
    </div>
    
    <!-- ØµÙØ­Ù‡ ÙˆØ±ÙˆØ¯/Ø«Ø¨Øª Ù†Ø§Ù… -->
    <div id="loginPage" class="container">
        <div class="card">
            <div class="card-header">
                <h1 style="font-size: 18px;">Ø³Ø§Ù…Ø§Ù†Ù‡ Ù…Ø¯ÛŒØ±ÛŒØª ÙˆÙ‚Ø§ÛŒØ¹ Ù¾ÛŒØ´Ø±ÙØªÙ‡</h1>
                <p style="font-size: 13px;">Ø³ÛŒØ³ØªÙ… Ø¬Ø§Ù…Ø¹ Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ø§ Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ†</p>
            </div>
            
            <div class="form-tabs">
                <button class="tab-btn active" data-form="login">ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø³ÛŒØ³ØªÙ…</button>
                <button class="tab-btn" data-form="register">Ø§ÛŒØ¬Ø§Ø¯ Ø­Ø³Ø§Ø¨</button>
                <button class="tab-btn" data-form="forgot">ÙØ±Ø§Ù…ÙˆØ´ÛŒ Ø±Ù…Ø²</button>
            </div>
            
            <div class="card-body">
                <!-- ÙØ±Ù… ÙˆØ±ÙˆØ¯ -->
                <div id="login-form" class="form-container active">
                    <form id="loginForm">
                        <div class="form-group">
                            <label>ğŸ“§ Ø§ÛŒÙ…ÛŒÙ„ ÛŒØ§ Ø´Ù…Ø§Ø±Ù‡ Ù‡Ù…Ø±Ø§Ù‡</label>
                            <input type="text" id="login-email" required placeholder="user@example.com ÛŒØ§ Û°Û¹Û±Û²Û³Û´ÛµÛ¶Û·Û¸Û¹">
                        </div>
                        
                        <div class="form-group">
                            <label>ğŸ” Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±</label>
                            <input type="password" id="login-password" required placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯">
                        </div>
                        
                        <div style="display: flex; justify-content: space-between; align-items: center; margin: 15px 0;">
                            <label style="font-size: 12px;">
                                <input type="checkbox"> Ù…Ø±Ø§ Ø¨Ù‡ Ø®Ø§Ø·Ø± Ø¨Ø³Ù¾Ø§Ø±
                            </label>
                        </div>
                        
                        <button type="submit" class="btn btn-primary" style="width: 100%;">
                            ğŸ”‘ ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø³ÛŒØ³ØªÙ…
                        </button>
                    </form>
                </div>
                
                <!-- ÙØ±Ù… Ø«Ø¨Øª Ù†Ø§Ù… -->
                <div id="register-form" class="form-container">
                    <form id="registerForm">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                            <div class="form-group">
                                <label>ğŸ‘¤ Ù†Ø§Ù…</label>
                                <input type="text" id="first-name" required placeholder="Ù†Ø§Ù…">
                            </div>
                            <div class="form-group">
                                <label>ğŸ‘¥ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ</label>
                                <input type="text" id="last-name" required placeholder="Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>ğŸ†” Ú©Ø¯ Ù…Ù„ÛŒ</label>
                            <input type="text" id="national-id" required pattern="\d{10}" placeholder="Û±Û° Ø±Ù‚Ù… Ú©Ø¯ Ù…Ù„ÛŒ">
                        </div>
                        
                        <div class="form-group">
                            <label>ğŸ“± Ø´Ù…Ø§Ø±Ù‡ Ù‡Ù…Ø±Ø§Ù‡</label>
                            <input type="tel" id="phone" required pattern="09\d{9}" placeholder="Û°Û¹Û±Û²Û³Û´ÛµÛ¶Û·Û¸Û¹">
                        </div>
                        
                        <div class="form-group">
                            <label>ğŸ“§ Ø§ÛŒÙ…ÛŒÙ„</label>
                            <input type="email" id="email" required placeholder="example@domain.com">
                        </div>
                        
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                            <div class="form-group">
                                <label>ğŸ” Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±</label>
                                <input type="password" id="password" required minlength="6" placeholder="Ø­Ø¯Ø§Ù‚Ù„ Û¶ Ú©Ø§Ø±Ø§Ú©ØªØ±">
                            </div>
                            <div class="form-group">
                                <label>ğŸ” ØªÚ©Ø±Ø§Ø± Ø±Ù…Ø²</label>
                                <input type="password" id="confirm-password" required placeholder="ØªÚ©Ø±Ø§Ø± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±">
                            </div>
                        </div>
                        
                        <button type="submit" class="btn btn-primary" style="width: 100%;">
                            âœ¨ Ø§ÛŒØ¬Ø§Ø¯ Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ
                        </button>
                    </form>
                </div>
                
                <!-- ÙØ±Ù… ÙØ±Ø§Ù…ÙˆØ´ÛŒ Ø±Ù…Ø² -->
                <div id="forgot-form" class="form-container">
                    <form id="forgotForm">
                        <div class="form-group">
                            <label>ğŸ“§ Ø§ÛŒÙ…ÛŒÙ„ ÛŒØ§ Ø´Ù…Ø§Ø±Ù‡ Ù‡Ù…Ø±Ø§Ù‡</label>
                            <input type="text" id="forgot-email" required placeholder="Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù„ÛŒÙ†Ú© Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ">
                        </div>
                        
                        <button type="submit" class="btn btn-primary" style="width: 100%;">
                            ğŸ”— Ø§Ø±Ø³Ø§Ù„ Ù„ÛŒÙ†Ú© Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ
                        </button>
                        
                        <div style="text-align: center; margin-top: 15px;">
                            <a href="#" onclick="switchForm('login')" style="color: var(--primary); font-size: 12px;">Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ ØµÙØ­Ù‡ ÙˆØ±ÙˆØ¯</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ -->
    <div id="dashboard" class="container">
        <div class="card">
            <!-- Ù‡Ø¯Ø± Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ -->
            <div class="dashboard-header">
                <div class="user-info">
                    <div class="user-avatar pulse">
                        ğŸ‘‘
                    </div>
                    <div style="min-width: 0;">
                        <h2 id="userFullName" style="font-size: 16px; margin: 0;">Ú©Ø§Ø±Ø¨Ø± Ø³ÛŒØ³ØªÙ…</h2>
                        <p id="userEmail" style="font-size: 12px; margin: 2px 0; color: var(--gray);">user@example.com</p>
                        <p id="userRole" style="color: var(--accent); font-weight: bold; font-size: 12px; margin: 0;"></p>
                    </div>
                </div>
                <div style="display: flex; gap: 5px;">
                    <button class="btn btn-secondary btn-sm" id="adminPanelBtn">
                        âš™ï¸ Ù¾Ù†Ù„
                    </button>
                    <button class="btn btn-secondary btn-sm" id="logoutBtn">
                        ğŸšª Ø®Ø±ÙˆØ¬
                    </button>
                </div>
            </div>
            
            <!-- Ù…Ù†ÙˆÛŒ Ù†Ø§ÙˆØ¨Ø±ÛŒ -->
            <div class="dashboard-nav">
                <button class="nav-btn active" data-page="main">
                    ğŸ“Š Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯
                </button>
                <button class="nav-btn" data-page="profile">
                    ğŸ‘¤ Ù¾Ø±ÙˆÙØ§ÛŒÙ„
                </button>
                <button class="nav-btn" data-page="events">
                    ğŸ“ ÙˆÙ‚Ø§ÛŒØ¹
                </button>
                <button class="nav-btn" data-page="categories">
                    ğŸ·ï¸ Ø¯Ø³ØªÙ‡â€ŒÙ‡Ø§
                </button>
                <button class="nav-btn" data-page="search">
                    ğŸ” Ø¬Ø³ØªØ¬Ùˆ
                </button>
                <button class="nav-btn" data-page="documents">
                    ğŸ“ Ù…Ø¯Ø§Ø±Ú©
                </button>
            </div>
            
            <!-- Ù…Ø­ØªÙˆØ§ÛŒ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ -->
            <div class="dashboard-content">
                <!-- Ø³ØªÙˆÙ† Ø§ØµÙ„ÛŒ -->
                <div>
                    <!-- ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ -->
                    <div id="mainPage" class="page active">
                        <div class="stats-grid">
                            <div class="stat-card">
                                <h3 style="color: var(--primary); font-size: 24px;" id="totalEvents">Û°</h3>
                                <p style="font-size: 12px;">ÙˆÙ‚Ø§ÛŒØ¹ Ø«Ø¨Øª Ø´Ø¯Ù‡</p>
                            </div>
                            <div class="stat-card">
                                <h3 style="color: var(--success); font-size: 24px;" id="totalUsers">Û°</h3>
                                <p style="font-size: 12px;">Ú©Ø§Ø±Ø¨Ø±Ø§Ù† Ø³ÛŒØ³ØªÙ…</p>
                            </div>
                            <div class="stat-card">
                                <h3 style="color: var(--warning); font-size: 24px;" id="completedProfile">Û°Ùª</h3>
                                <p style="font-size: 12px;">ØªÚ©Ù…ÛŒÙ„ Ù¾Ø±ÙˆÙØ§ÛŒÙ„</p>
                            </div>
                            <div class="stat-card">
                                <h3 style="color: var(--danger); font-size: 24px;" id="todayEvents">Û°</h3>
                                <p style="font-size: 12px;">ÙˆÙ‚Ø§ÛŒØ¹ Ø§Ù…Ø±ÙˆØ²</p>
                            </div>
                        </div>
                        
                        <div style="background: white; padding: 15px; border-radius: 10px; margin-top: 15px; box-shadow: 0 3px 10px rgba(0,0,0,0.05);">
                            <h3 style="margin-bottom: 15px; color: var(--primary); font-size: 16px;">ğŸ“ˆ ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ø§Ø®ÛŒØ±</h3>
                            <div class="events-list" id="recentActivities">
                                <!-- ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§ -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- ØµÙØ­Ù‡ Ù¾Ø±ÙˆÙØ§ÛŒÙ„ -->
                    <div id="profilePage" class="page">
                        <div style="background: white; padding: 20px; border-radius: 10px; margin-bottom: 20px; box-shadow: 0 3px 10px rgba(0,0,0,0.05);">
                            <h3 style="margin-bottom: 20px; color: var(--primary); font-size: 16px;">ğŸ‘¤ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ø®ØµÛŒ</h3>
                            <form id="profileForm">
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                                    <div class="form-group">
                                        <label>Ù†Ø§Ù…</label>
                                        <input type="text" id="profileFirstName" required>
                                    </div>
                                    <div class="form-group">
                                        <label>Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ</label>
                                        <input type="text" id="profileLastName" required>
                                    </div>
                                </div>
                                
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                                    <div class="form-group">
                                        <label>Ú©Ø¯ Ù…Ù„ÛŒ</label>
                                        <input type="text" id="profileNationalId" readonly>
                                    </div>
                                    <div class="form-group">
                                        <label>Ø´Ù…Ø§Ø±Ù‡ Ù‡Ù…Ø±Ø§Ù‡</label>
                                        <input type="tel" id="profilePhone" required>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label>Ø§ÛŒÙ…ÛŒÙ„</label>
                                    <input type="email" id="profileEmail" required>
                                </div>
                                
                                <div class="form-group">
                                    <label>Ø¢Ø¯Ø±Ø³ Ù…Ø­Ù„ Ø³Ú©ÙˆÙ†Øª</label>
                                    <textarea id="profileAddress" rows="2" placeholder="Ø¢Ø¯Ø±Ø³ Ú©Ø§Ù…Ù„"></textarea>
                                </div>
                                
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                                    <div class="form-group">
                                        <label>ØªØ§Ø±ÛŒØ® ØªÙˆÙ„Ø¯</label>
                                        <input type="date" id="profileBirthDate">
                                    </div>
                                    <div class="form-group">
                                        <label>ØªØ­ØµÛŒÙ„Ø§Øª</label>
                                        <select id="profileEducation">
                                            <option value="">Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</option>
                                            <option value="diploma">Ø¯ÛŒÙ¾Ù„Ù…</option>
                                            <option value="bachelor">Ú©Ø§Ø±Ø´Ù†Ø§Ø³ÛŒ</option>
                                            <option value="master">Ú©Ø§Ø±Ø´Ù†Ø§Ø³ÛŒ Ø§Ø±Ø´Ø¯</option>
                                            <option value="phd">Ø¯Ú©ØªØ±ÛŒ</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <button type="submit" class="btn btn-primary">
                                    ğŸ’¾ Ø°Ø®ÛŒØ±Ù‡ ØªØºÛŒÛŒØ±Ø§Øª
                                </button>
                            </form>
                        </div>
                    </div>
                    
                    <!-- ØµÙØ­Ù‡ Ø«Ø¨Øª ÙˆÙ‚Ø§ÛŒØ¹ -->
                    <div id="eventsPage" class="page">
                        <div style="background: white; padding: 20px; border-radius: 10px; margin-bottom: 20px; box-shadow: 0 3px 10px rgba(0,0,0,0.05);">
                            <h3 style="margin-bottom: 20px; color: var(--primary); font-size: 16px;">ğŸ“ Ø«Ø¨Øª ÙˆØ§Ù‚Ø¹Ù‡ Ø¬Ø¯ÛŒØ¯</h3>
                            <form id="eventForm">
                                <div class="form-group">
                                    <label>Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ù‚Ø¹Ù‡</label>
                                    <input type="text" id="eventTitle" required placeholder="Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ù‚Ø¹Ù‡ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯">
                                </div>
                                
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                                    <div class="form-group">
                                        <label>ØªØ§Ø±ÛŒØ®</label>
                                        <input type="date" id="eventDate" required>
                                    </div>
                                    <div class="form-group">
                                        <label>Ø³Ø§Ø¹Øª</label>
                                        <input type="time" id="eventTime" required>
                                    </div>
                                </div>
                                
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                                    <div class="form-group">
                                        <label>Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ</label>
                                        <select id="eventCategory" required>
                                            <option value="">Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>Ø§ÙˆÙ„ÙˆÛŒØª</label>
                                        <select id="eventPriority" required>
                                            <option value="low">Ú©Ù…</option>
                                            <option value="medium" selected>Ù…ØªÙˆØ³Ø·</option>
                                            <option value="high">Ø²ÛŒØ§Ø¯</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label>ØªÙˆØ¶ÛŒØ­Ø§Øª Ú©Ø§Ù…Ù„</label>
                                    <textarea id="eventDescription" rows="3" required placeholder="ØªÙˆØ¶ÛŒØ­Ø§Øª Ú©Ø§Ù…Ù„ ÙˆØ§Ù‚Ø¹Ù‡ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯..."></textarea>
                                </div>
                                
                                <button type="submit" class="btn btn-primary">
                                    âœ… Ø«Ø¨Øª ÙˆØ§Ù‚Ø¹Ù‡
                                </button>
                            </form>
                        </div>
                        
                        <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 3px 10px rgba(0,0,0,0.05);">
                            <h3 style="margin-bottom: 20px; color: var(--primary); font-size: 16px;">ğŸ“‹ ÙˆÙ‚Ø§ÛŒØ¹ Ø«Ø¨Øª Ø´Ø¯Ù‡</h3>
                            <div class="events-list" id="eventsList">
                                <!-- ÙˆÙ‚Ø§ÛŒØ¹ -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- ØµÙØ­Ù‡ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø³ØªÙ‡â€ŒÙ‡Ø§ -->
                    <div id="categoriesPage" class="page">
                        <div class="categories-management">
                            <h3 style="margin-bottom: 15px; color: var(--primary); font-size: 16px;">ğŸ·ï¸ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø³ØªÙ‡â€ŒÙ‡Ø§</h3>
                            
                            <div id="categoriesContainer">
                                <div class="categories-list" id="categoriesList">
                                    <!-- Ø¯Ø³ØªÙ‡â€ŒÙ‡Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯ -->
                                </div>
                                
                                <div class="add-category-form">
                                    <input type="text" 
                                           id="newCategoryInput" 
                                           placeholder="Ù†Ø§Ù… Ø¯Ø³ØªÙ‡ Ø¬Ø¯ÛŒØ¯" 
                                           style="flex: 1; padding: 8px 12px; border: 1px solid #ddd; border-radius: 6px;">
                                    <button onclick="addCategory()" class="btn btn-primary btn-sm">
                                        â• Ø§Ø¶Ø§ÙÙ‡
                                    </button>
                                </div>
                                
                                <div style="margin-top: 15px;">
                                    <p style="font-size: 12px; color: var(--gray); margin-bottom: 10px;">
                                        Ø¨Ø±Ø§ÛŒ Ø­Ø°Ù Ù‡Ø± Ø¯Ø³ØªÙ‡ØŒ Ø±ÙˆÛŒ Ø¯Ú©Ù…Ù‡ âœ– Ú©Ù†Ø§Ø± Ø¢Ù† Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯
                                    </p>
                                    <button onclick="resetCategories()" class="btn btn-secondary btn-sm">
                                        ğŸ”„ Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ Ø¨Ù‡ Ù¾ÛŒØ´â€ŒÙØ±Ø¶
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ØµÙØ­Ù‡ Ø¬Ø³ØªØ¬Ùˆ -->
                    <div id="searchPage" class="page">
                        <div style="background: white; padding: 20px; border-radius: 10px; margin-bottom: 20px; box-shadow: 0 3px 10px rgba(0,0,0,0.05);">
                            <h3 style="margin-bottom: 20px; color: var(--primary); font-size: 16px;">ğŸ” Ø¬Ø³ØªØ¬ÙˆÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡</h3>
                            <form id="searchForm">
                                <div class="form-group">
                                    <label>Ú©Ù„ÛŒØ¯ÙˆØ§Ú˜Ù‡ Ø¬Ø³ØªØ¬Ùˆ</label>
                                    <input type="text" id="searchKeyword" placeholder="Ø¹Ø¨Ø§Ø±Øª Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯...">
                                </div>
                                
                                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                                    <div class="form-group">
                                        <label>Ù†ÙˆØ¹ Ø¬Ø³ØªØ¬Ùˆ</label>
                                        <select id="searchType">
                                            <option value="all">Ù‡Ù…Ù‡ Ù…ÙˆØ§Ø±Ø¯</option>
                                            <option value="events">ÙˆÙ‚Ø§ÛŒØ¹</option>
                                            <option value="users">Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</option>
                                            <option value="documents">Ù…Ø³ØªÙ†Ø¯Ø§Øª</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>Ø¨Ø§Ø²Ù‡ Ø²Ù…Ø§Ù†ÛŒ</label>
                                        <select id="searchTimeRange">
                                            <option value="all">Ù‡Ù…Ù‡ Ø²Ù…Ø§Ù†â€ŒÙ‡Ø§</option>
                                            <option value="today">Ø§Ù…Ø±ÙˆØ²</option>
                                            <option value="week">Ù‡ÙØªÙ‡ Ø¬Ø§Ø±ÛŒ</option>
                                            <option value="month">Ù…Ø§Ù‡ Ø¬Ø§Ø±ÛŒ</option>
                                            <option value="year">Ø³Ø§Ù„ Ø¬Ø§Ø±ÛŒ</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <button type="submit" class="btn btn-primary">
                                    ğŸ” Ø§Ø¬Ø±Ø§ÛŒ Ø¬Ø³ØªØ¬Ùˆ
                                </button>
                            </form>
                        </div>
                        
                        <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 3px 10px rgba(0,0,0,0.05);">
                            <h3 style="margin-bottom: 20px; color: var(--primary); font-size: 16px;">ğŸ“Š Ù†ØªØ§ÛŒØ¬ Ø¬Ø³ØªØ¬Ùˆ</h3>
                            <div id="searchResults" style="min-height: 150px; padding: 15px; background: #f8f9fa; border-radius: 8px;">
                                <p style="color: var(--gray); text-align: center; font-size: 13px;">Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù†ØªØ§ÛŒØ¬ØŒ Ø¬Ø³ØªØ¬Ùˆ Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒØ¯.</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ØµÙØ­Ù‡ Ù…Ø¯Ø§Ø±Ú© -->
                    <div id="documentsPage" class="page">
                        <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 3px 10px rgba(0,0,0,0.05);">
                            <h3 style="margin-bottom: 20px; color: var(--primary); font-size: 16px;">ğŸ“ Ø¢Ù¾Ù„ÙˆØ¯ Ù…Ø¯Ø§Ø±Ú© Ùˆ Ù…Ø³ØªÙ†Ø¯Ø§Øª</h3>
                            
                            <div class="upload-area" id="uploadArea">
                                <div style="font-size: 48px; color: var(--primary); margin-bottom: 15px;">
                                    ğŸ“¤
                                </div>
                                <p style="margin-bottom: 15px; font-size: 16px;">ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø±Ù‡Ø§ Ú©Ù†ÛŒØ¯ ÛŒØ§ Ø¨Ø±Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù„ÛŒÚ© Ú©Ù†ÛŒØ¯</p>
                                <input type="file" id="fileUpload" multiple style="display: none;">
                                <button type="button" class="btn btn-secondary" onclick="document.getElementById('fileUpload').click()">
                                    ğŸ“ Ø§Ù†ØªØ®Ø§Ø¨ ÙØ§ÛŒÙ„
                                </button>
                                <p style="margin-top: 15px; color: var(--gray); font-size: 14px;">
                                    Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ø§Ø² ÙØ±Ù…Øªâ€ŒÙ‡Ø§ÛŒ: JPG, PNG, PDF, DOC, DOCX, TXT, ZIP, RAR<br>
                                    Ø­Ø¯Ø§Ú©Ø«Ø± Ø­Ø¬Ù… Ù‡Ø± ÙØ§ÛŒÙ„: Ûµ Ù…Ú¯Ø§Ø¨Ø§ÛŒØª
                                </p>
                                <div style="margin-top: 20px; display: flex; gap: 10px; justify-content: center;">
                                    <button onclick="uploadSampleFiles()" class="btn btn-sm" style="background: #f0f7ff; color: var(--primary); border: 1px solid var(--primary);">
                                        ğŸ§ª ÙØ§ÛŒÙ„ Ù†Ù…ÙˆÙ†Ù‡
                                    </button>
                                    <button onclick="clearAllFiles()" class="btn btn-sm" style="background: #fff5f5; color: var(--danger); border: 1px solid var(--danger);">
                                        ğŸ—‘ï¸ Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ Ù‡Ù…Ù‡
                                    </button>
                                </div>
                            </div>
                            
                            <div style="margin-top: 30px;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                                    <h4 style="color: var(--dark); font-size: 15px; margin: 0;">ğŸ“„ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¢Ù¾Ù„ÙˆØ¯ Ø´Ø¯Ù‡</h4>
                                    <div style="display: flex; gap: 10px; align-items: center;">
                                        <input type="text" 
                                               id="searchFilesInput" 
                                               placeholder="Ø¬Ø³ØªØ¬Ùˆ Ø¯Ø± ÙØ§ÛŒÙ„â€ŒÙ‡Ø§..." 
                                               style="padding: 6px 12px; border: 1px solid #ddd; border-radius: 6px; font-size: 12px; width: 150px;"
                                               onkeyup="searchFiles(this.value)">
                                        <span style="font-size: 12px; color: var(--gray);">
                                            ${files.length} ÙØ§ÛŒÙ„
                                        </span>
                                    </div>
                                </div>
                                <div id="uploadedFiles">
                                    <!-- ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¢Ù¾Ù„ÙˆØ¯ Ø´Ø¯Ù‡ -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Ø³ØªÙˆÙ† Ú©Ù†Ø§Ø±ÛŒ -->
                <div>
                    <!-- Ø³Ø§Ø¹Øª Ø¢Ù†Ø§Ù„ÙˆÚ¯ -->
                    <div class="analog-clock-container">
                        <h3 style="margin-bottom: 15px; color: var(--primary); font-size: 15px;">â° Ø³Ø§Ø¹Øª Ø¢Ù†Ø§Ù„ÙˆÚ¯</h3>
                        <div class="analog-clock">
                            <div class="clock-hand hour-hand" id="hourHand"></div>
                            <div class="clock-hand minute-hand" id="minuteHand"></div>
                            <div class="clock-hand second-hand" id="secondHand"></div>
                            <div class="center-dot"></div>
                        </div>
                        <div id="digitalTime" style="margin-top: 15px; font-family: 'Courier New', monospace; font-size: 18px; font-weight: bold; color: var(--dark);">
                            --:--:--
                        </div>
                    </div>
                    
                    <!-- Ù¾Ù†Ù„ Ø³Ø±ÛŒØ¹ -->
                    <div style="background: white; padding: 15px; border-radius: 10px; margin-top: 20px; box-shadow: 0 3px 10px rgba(0,0,0,0.05);">
                        <h3 style="margin-bottom: 15px; color: var(--primary); font-size: 15px;">âš¡ Ø§Ù‚Ø¯Ø§Ù…Ø§Øª Ø³Ø±ÛŒØ¹</h3>
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            <button class="btn btn-secondary btn-sm" onclick="showPage('events')">
                                ğŸ“ Ø«Ø¨Øª ÙˆØ§Ù‚Ø¹Ù‡ Ø¬Ø¯ÛŒØ¯
                            </button>
                            <button class="btn btn-secondary btn-sm" onclick="showPage('documents')">
                                ğŸ“ Ø¢Ù¾Ù„ÙˆØ¯ Ù…Ø¯Ø±Ú©
                            </button>
                            <button class="btn btn-secondary btn-sm" onclick="showPage('search')">
                                ğŸ” Ø¬Ø³ØªØ¬ÙˆÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ† -->
    <div class="admin-panel" id="adminPanel">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <h2 style="color: var(--primary); font-size: 18px;">âš™ï¸ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ø¯Ù…ÛŒÙ†</h2>
            <button id="closeAdminBtn" style="background: none; border: none; font-size: 20px; cursor: pointer; color: var(--gray);">
                âœ–
            </button>
        </div>
        
        <div style="margin-bottom: 20px;">
            <h3 style="margin-bottom: 15px; color: var(--dark); font-size: 16px;">ğŸ‘¥ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†</h3>
            <div style="overflow-x: auto;">
                <table class="users-table">
                    <thead>
                        <tr>
                            <th>Ù†Ø§Ù… Ú©Ø§Ù…Ù„</th>
                            <th>Ø§ÛŒÙ…ÛŒÙ„</th>
                            <th>Ù†Ù‚Ø´</th>
                            <th>Ø¹Ù…Ù„ÛŒØ§Øª</th>
                        </tr>
                    </thead>
                    <tbody id="adminUsersTable">
                        <!-- Ú©Ø§Ø±Ø¨Ø±Ø§Ù† -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <div style="margin-bottom: 20px;">
            <h3 style="margin-bottom: 15px; color: var(--dark); font-size: 16px;">ğŸ“Š Ø¢Ù…Ø§Ø± Ø³ÛŒØ³ØªÙ…</h3>
            <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; font-size: 13px;">
                <p>ØªØ¹Ø¯Ø§Ø¯ Ú©Ù„ Ú©Ø§Ø±Ø¨Ø±Ø§Ù†: <strong id="adminTotalUsers">Û°</strong></p>
                <p>ØªØ¹Ø¯Ø§Ø¯ ÙˆÙ‚Ø§ÛŒØ¹ Ø«Ø¨Øª Ø´Ø¯Ù‡: <strong id="adminTotalEvents">Û°</strong></p>
                <p>ØªØ¹Ø¯Ø§Ø¯ ÙˆÙ‚Ø§ÛŒØ¹ Ø§Ù…Ø±ÙˆØ²: <strong id="adminTodayEvents">Û°</strong></p>
                <p>ØªØ¹Ø¯Ø§Ø¯ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¢Ù¾Ù„ÙˆØ¯ Ø´Ø¯Ù‡: <strong id="adminTotalFiles">Û°</strong></p>
            </div>
        </div>
        
        <div>
            <h3 style="margin-bottom: 15px; color: var(--dark); font-size: 16px;">ğŸ”§ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø³ÛŒØ³ØªÙ…</h3>
            <div style="display: flex; flex-direction: column; gap: 8px;">
                <button class="btn btn-primary btn-sm" onclick="exportData()">
                    ğŸ“¤ Ø®Ø±ÙˆØ¬ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª
                </button>
                <button class="btn btn-secondary btn-sm" onclick="clearOldEvents()">
                    ğŸ—‘ï¸ Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ ÙˆÙ‚Ø§ÛŒØ¹ Ù‚Ø¯ÛŒÙ…ÛŒ
                </button>
                <button class="btn btn-secondary btn-sm" onclick="backupSystem()">
                    ğŸ’¾ Ù¾Ø´ØªÛŒØ¨Ø§Ù†â€ŒÚ¯ÛŒØ±ÛŒ
                </button>
                <button class="btn btn-secondary btn-sm" onclick="resetSystem()">
                    ğŸ”„ Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ Ø³ÛŒØ³ØªÙ…
                </button>
            </div>
        </div>
    </div>
    
    <!-- Ù†ÙˆØªÛŒÙÛŒÚ©ÛŒØ´Ù† -->
    <div id="notification" class="notification"></div>

    <script>
        // ============ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒ Ø³ÛŒØ³ØªÙ… ============
        let users = JSON.parse(localStorage.getItem('users')) || [];
        let events = JSON.parse(localStorage.getItem('events')) || [];
        let files = JSON.parse(localStorage.getItem('files')) || [];
        let categories = JSON.parse(localStorage.getItem('categories')) || [
            { id: 1, name: 'Ú©Ø§Ø±', color: '#3498db' },
            { id: 2, name: 'Ø´Ø®ØµÛŒ', color: '#2ecc71' },
            { id: 3, name: 'Ù¾Ø±ÙˆÚ˜Ù‡', color: '#9b59b6' },
            { id: 4, name: 'Ù…Ù‡Ù…', color: '#e74c3c' }
        ];
        let currentUser = JSON.parse(localStorage.getItem('currentUser')) || null;
        
        // ============ ÙˆÙ‚ØªÛŒ ØµÙØ­Ù‡ Ù„ÙˆØ¯ Ø´Ø¯ ============
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Ø³ÛŒØ³ØªÙ… Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø´Ø¯');
            
            // Ø³Ø§Ø¹Øª Ø¯ÛŒØ¬ÛŒØªØ§Ù„
            updateDigitalClock();
            setInterval(updateDigitalClock, 1000);
            
            // Ø³Ø§Ø¹Øª Ø¢Ù†Ø§Ù„ÙˆÚ¯
            updateAnalogClock();
            setInterval(updateAnalogClock, 1000);
            
            // Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø³ØªÙ‡â€ŒÙ‡Ø§ Ø§Ú¯Ø± ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ù†Ø¯
            if (!localStorage.getItem('categories')) {
                localStorage.setItem('categories', JSON.stringify(categories));
            }
            
            // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø³ØªÙ‡â€ŒÙ‡Ø§
            categories = JSON.parse(localStorage.getItem('categories'));
            
            // Ø§Ú¯Ø± Ú©Ø§Ø±Ø¨Ø± Ù„Ø§Ú¯ÛŒÙ† Ú©Ø±Ø¯Ù‡
            if (currentUser) {
                showDashboard();
            }
            
            // ØªÙ†Ø¸ÛŒÙ… Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§
            setupEventListeners();
            
            // ØªØ§Ø±ÛŒØ®â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´â€ŒÙØ±Ø¶
            setDefaultDates();
            
            // ØªÙ†Ø¸ÛŒÙ… Drag & Drop
            setupDragAndDrop();
        });
        
        // ============ Ø³Ø§Ø¹Øª Ø¯ÛŒØ¬ÛŒØªØ§Ù„ ============
        function updateDigitalClock() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            const seconds = String(now.getSeconds()).padStart(2, '0');
            document.getElementById('liveClock').textContent = `${hours}:${minutes}:${seconds}`;
            document.getElementById('digitalTime').textContent = `${hours}:${minutes}:${seconds}`;
        }
        
        // ============ Ø³Ø§Ø¹Øª Ø¢Ù†Ø§Ù„ÙˆÚ¯ ============
        function updateAnalogClock() {
            const now = new Date();
            const hours = now.getHours() % 12;
            const minutes = now.getMinutes();
            const seconds = now.getSeconds();
            
            const hourDeg = (hours * 30) + (minutes * 0.5);
            const minuteDeg = (minutes * 6) + (seconds * 0.1);
            const secondDeg = seconds * 6;
            
            const hourHand = document.getElementById('hourHand');
            const minuteHand = document.getElementById('minuteHand');
            const secondHand = document.getElementById('secondHand');
            
            if (hourHand && minuteHand && secondHand) {
                hourHand.style.transform = `translateX(-50%) rotate(${hourDeg}deg)`;
                minuteHand.style.transform = `translateX(-50%) rotate(${minuteDeg}deg)`;
                secondHand.style.transform = `translateX(-50%) rotate(${secondDeg}deg)`;
            }
        }
        
        // ============ ØªÙ†Ø¸ÛŒÙ… Drag & Drop ============
        function setupDragAndDrop() {
            const uploadArea = document.getElementById('uploadArea');
            if (!uploadArea) return;
            
            uploadArea.addEventListener('dragover', function(e) {
                e.preventDefault();
                this.classList.add('dragover');
            });
            
            uploadArea.addEventListener('dragleave', function(e) {
                e.preventDefault();
                this.classList.remove('dragover');
            });
            
            uploadArea.addEventListener('drop', function(e) {
                e.preventDefault();
                this.classList.remove('dragover');
                
                if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {
                    uploadFiles(e.dataTransfer.files);
                }
            });
        }
        
        // ============ ØªÙ†Ø¸ÛŒÙ… Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ ============
        function setupEventListeners() {
            console.log('ØªÙ†Ø¸ÛŒÙ… Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§...');
            
            // ØªØ¨â€ŒÙ‡Ø§ÛŒ ÙØ±Ù…
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const formType = this.getAttribute('data-form');
                    switchForm(formType);
                });
            });
            
            // ÙØ±Ù… Ø«Ø¨Øª Ù†Ø§Ù…
            document.getElementById('registerForm').addEventListener('submit', function(e) {
                e.preventDefault();
                registerUser();
            });
            
            // ÙØ±Ù… ÙˆØ±ÙˆØ¯
            document.getElementById('loginForm').addEventListener('submit', function(e) {
                e.preventDefault();
                loginUser();
            });
            
            // ÙØ±Ù… ÙØ±Ø§Ù…ÙˆØ´ÛŒ Ø±Ù…Ø²
            document.getElementById('forgotForm').addEventListener('submit', function(e) {
                e.preventDefault();
                forgotPassword();
            });
            
            // ÙØ±Ù… Ù¾Ø±ÙˆÙØ§ÛŒÙ„
            document.getElementById('profileForm').addEventListener('submit', function(e) {
                e.preventDefault();
                saveProfile();
            });
            
            // ÙØ±Ù… ÙˆÙ‚Ø§ÛŒØ¹
            document.getElementById('eventForm').addEventListener('submit', function(e) {
                e.preventDefault();
                saveEvent();
            });
            
            // ÙØ±Ù… Ø¬Ø³ØªØ¬Ùˆ
            document.getElementById('searchForm').addEventListener('submit', function(e) {
                e.preventDefault();
                performSearch();
            });
            
            // Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„
            document.getElementById('fileUpload').addEventListener('change', function(e) {
                if (e.target.files && e.target.files.length > 0) {
                    uploadFiles(e.target.files);
                    // Ø±ÛŒØ³Øª Ú©Ø±Ø¯Ù† input Ø¨Ø±Ø§ÛŒ Ø¢Ù¾Ù„ÙˆØ¯ Ù…Ø¬Ø¯Ø¯ Ù‡Ù…Ø§Ù† ÙØ§ÛŒÙ„
                    e.target.value = '';
                }
            });
            
            // Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ†
            document.getElementById('adminPanelBtn').addEventListener('click', function() {
                if (currentUser && currentUser.role === 'admin') {
                    document.getElementById('adminPanel').classList.add('active');
                    populateAdminPanel();
                } else {
                    showNotification('ÙÙ‚Ø· Ù…Ø¯ÛŒØ±Ø§Ù† Ø³ÛŒØ³ØªÙ… Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù†Ø¯ Ø¨Ù‡ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù†Ø¯', 'warning');
                }
            });
            
            document.getElementById('closeAdminBtn').addEventListener('click', function() {
                document.getElementById('adminPanel').classList.remove('active');
            });
            
            // Ù…Ù†ÙˆÛŒ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const page = this.getAttribute('data-page');
                    showPage(page);
                    
                    document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            // Ø®Ø±ÙˆØ¬
            document.getElementById('logoutBtn').addEventListener('click', logout);
        }
        
        // ============ ØªØ¹ÙˆÛŒØ¶ ÙØ±Ù… ============
        function switchForm(formType) {
            document.querySelectorAll('.form-container').forEach(form => {
                form.classList.remove('active');
            });
            
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.getElementById(`${formType}-form`).classList.add('active');
            document.querySelector(`.tab-btn[data-form="${formType}"]`).classList.add('active');
        }
        
        // ============ Ø«Ø¨Øª Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯ ============
        function registerUser() {
            const firstName = document.getElementById('first-name').value.trim();
            const lastName = document.getElementById('last-name').value.trim();
            const nationalId = document.getElementById('national-id').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const email = document.getElementById('email').value.trim();
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirm-password').value;
            
            if (password !== confirmPassword) {
                showNotification('Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ùˆ ØªÚ©Ø±Ø§Ø± Ø¢Ù† Ù…Ø·Ø§Ø¨Ù‚Øª Ù†Ø¯Ø§Ø±Ù†Ø¯', 'error');
                return;
            }
            
            if (nationalId.length !== 10 || !/^\d+$/.test(nationalId)) {
                showNotification('Ú©Ø¯ Ù…Ù„ÛŒ Ø¨Ø§ÛŒØ¯ Û±Û° Ø±Ù‚Ù… Ø¨Ø§Ø´Ø¯', 'error');
                return;
            }
            
            if (!phone.match(/^09\d{9}$/)) {
                showNotification('Ø´Ù…Ø§Ø±Ù‡ Ù‡Ù…Ø±Ø§Ù‡ Ø¨Ø§ÛŒØ¯ Ø¨Ø§ Û°Û¹ Ø´Ø±ÙˆØ¹ Ø´Ø¯Ù‡ Ùˆ Û±Û± Ø±Ù‚Ù… Ø¨Ø§Ø´Ø¯', 'error');
                return;
            }
            
            if (!email.includes('@')) {
                showNotification('Ø§ÛŒÙ…ÛŒÙ„ Ù…Ø¹ØªØ¨Ø± Ù†ÛŒØ³Øª', 'error');
                return;
            }
            
            const existingUser = users.find(u => u.email === email || u.phone === phone || u.nationalId === nationalId);
            if (existingUser) {
                showNotification('Ú©Ø§Ø±Ø¨Ø± Ø¨Ø§ Ø§ÛŒÙ† Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù‚Ø¨Ù„Ø§Ù‹ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø±Ø¯Ù‡ Ø§Ø³Øª', 'error');
                return;
            }
            
            const role = users.length === 0 ? 'admin' : 'user';
            
            const newUser = {
                id: Date.now(),
                firstName,
                lastName,
                nationalId,
                phone,
                email,
                password,
                role,
                address: '',
                birthDate: '',
                education: '',
                profileComplete: false,
                createdAt: new Date().toISOString()
            };
            
            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            
            currentUser = newUser;
            localStorage.setItem('currentUser', JSON.stringify(newUser));
            
            showNotification(`Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ù…ÙˆÙÙ‚! Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ ${firstName}`, 'success');
            setTimeout(() => showDashboard(), 1000);
        }
        
        // ============ ÙˆØ±ÙˆØ¯ Ú©Ø§Ø±Ø¨Ø± ============
        function loginUser() {
            const emailOrPhone = document.getElementById('login-email').value.trim();
            const password = document.getElementById('login-password').value;
            
            const user = users.find(u => 
                (u.email === emailOrPhone || u.phone === emailOrPhone) && 
                u.password === password
            );
            
            if (user) {
                currentUser = user;
                localStorage.setItem('currentUser', JSON.stringify(user));
                
                showNotification(`ÙˆØ±ÙˆØ¯ Ù…ÙˆÙÙ‚! Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ ${user.firstName}`, 'success');
                setTimeout(() => showDashboard(), 1000);
            } else {
                if (users.length === 0) {
                    showNotification('Ù‡Ù†ÙˆØ² Ù‡ÛŒÚ† Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ù†Ú©Ø±Ø¯Ù‡. Ù„Ø·ÙØ§ Ø§ÙˆÙ„ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ù†ÛŒØ¯.', 'info');
                    switchForm('register');
                } else {
                    showNotification('Ø§ÛŒÙ…ÛŒÙ„/Ø´Ù…Ø§Ø±Ù‡ ÛŒØ§ Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª', 'error');
                }
            }
        }
        
        // ============ ÙØ±Ø§Ù…ÙˆØ´ÛŒ Ø±Ù…Ø² ============
        function forgotPassword() {
            const emailOrPhone = document.getElementById('forgot-email').value.trim();
            
            const user = users.find(u => u.email === emailOrPhone || u.phone === emailOrPhone);
            
            if (user) {
                showNotification(`Ù„ÛŒÙ†Ú© Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ø±Ù…Ø² Ø¨Ù‡ ${emailOrPhone} Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯`, 'success');
                setTimeout(() => switchForm('login'), 2000);
            } else {
                showNotification('Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø¨Ø§ Ø§ÛŒÙ† Ø§Ø·Ù„Ø§Ø¹Ø§Øª ÛŒØ§ÙØª Ù†Ø´Ø¯', 'error');
            }
        }
        
        // ============ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ ============
        function showDashboard() {
            document.getElementById('loginPage').style.display = 'none';
            document.getElementById('dashboard').style.display = 'block';
            
            document.getElementById('userFullName').textContent = `${currentUser.firstName} ${currentUser.lastName}`;
            document.getElementById('userEmail').textContent = currentUser.email;
            document.getElementById('userRole').textContent = currentUser.role === 'admin' ? 'ğŸ‘‘ Ù…Ø¯ÛŒØ± Ø³ÛŒØ³ØªÙ…' : 'ğŸ‘¤ Ú©Ø§Ø±Ø¨Ø± Ø¹Ø§Ø¯ÛŒ';
            
            document.getElementById('profileFirstName').value = currentUser.firstName;
            document.getElementById('profileLastName').value = currentUser.lastName;
            document.getElementById('profileNationalId').value = currentUser.nationalId;
            document.getElementById('profilePhone').value = currentUser.phone;
            document.getElementById('profileEmail').value = currentUser.email;
            document.getElementById('profileAddress').value = currentUser.address || '';
            document.getElementById('profileBirthDate').value = currentUser.birthDate || '';
            document.getElementById('profileEducation').value = currentUser.education || '';
            
            updateStats();
            loadEvents();
            loadActivities();
            loadFiles();
            loadCategories();
            
            showPage('main');
        }
        
        // ============ Ù†Ù…Ø§ÛŒØ´ ØµÙØ­Ù‡ ============
        function showPage(pageName) {
            document.querySelectorAll('.page').forEach(page => {
                page.style.display = 'none';
            });
            
            document.getElementById(`${pageName}Page`).style.display = 'block';
            
            if (pageName === 'events') {
                populateCategorySelect();
            }
        }
        
        // ============ ØªÙ†Ø¸ÛŒÙ… ØªØ§Ø±ÛŒØ®â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´â€ŒÙØ±Ø¶ ============
        function setDefaultDates() {
            const today = new Date().toISOString().split('T')[0];
            const now = new Date();
            const timeString = `${String(now.getHours()).padStart(2, '0')}:${String(now.getMinutes()).padStart(2, '0')}`;
            
            document.getElementById('eventDate').value = today;
            document.getElementById('eventTime').value = timeString;
        }
        
        // ============ Ø°Ø®ÛŒØ±Ù‡ Ù¾Ø±ÙˆÙØ§ÛŒÙ„ ============
        function saveProfile() {
            if (!currentUser) return;
            
            currentUser.firstName = document.getElementById('profileFirstName').value.trim();
            currentUser.lastName = document.getElementById('profileLastName').value.trim();
            currentUser.phone = document.getElementById('profilePhone').value.trim();
            currentUser.email = document.getElementById('profileEmail').value.trim();
            currentUser.address = document.getElementById('profileAddress').value.trim();
            currentUser.birthDate = document.getElementById('profileBirthDate').value;
            currentUser.education = document.getElementById('profileEducation').value;
            currentUser.profileComplete = true;
            
            const index = users.findIndex(u => u.id === currentUser.id);
            if (index !== -1) {
                users[index] = currentUser;
                localStorage.setItem('users', JSON.stringify(users));
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                
                document.getElementById('userFullName').textContent = `${currentUser.firstName} ${currentUser.lastName}`;
                document.getElementById('userEmail').textContent = currentUser.email;
                
                showNotification('Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯', 'success');
                updateStats();
            }
        }
        
        // ============ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¯Ø³ØªÙ‡â€ŒÙ‡Ø§ ============
        function loadCategories() {
            const categoriesList = document.getElementById('categoriesList');
            if (!categoriesList) return;
            
            categoriesList.innerHTML = '';
            
            categories.forEach(category => {
                const categoryTag = document.createElement('div');
                categoryTag.className = 'category-tag';
                categoryTag.innerHTML = `
                    ğŸ·ï¸ ${category.name}
                    <button onclick="deleteCategory(${category.id})">âœ–</button>
                `;
                categoriesList.appendChild(categoryTag);
            });
        }
        
        // ============ Ù¾Ø± Ú©Ø±Ø¯Ù† Ø§Ù†ØªØ®Ø§Ø¨ Ø¯Ø³ØªÙ‡â€ŒÙ‡Ø§ ============
        function populateCategorySelect() {
            const select = document.getElementById('eventCategory');
            if (!select) return;
            
            select.innerHTML = '<option value="">Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</option>';
            
            categories.forEach(category => {
                const option = document.createElement('option');
                option.value = category.id;
                option.textContent = category.name;
                select.appendChild(option);
            });
        }
        
        // ============ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¯Ø³ØªÙ‡ Ø¬Ø¯ÛŒØ¯ ============
        function addCategory() {
            const input = document.getElementById('newCategoryInput');
            const name = input.value.trim();
            
            if (!name) {
                showNotification('Ù„Ø·ÙØ§ Ù†Ø§Ù… Ø¯Ø³ØªÙ‡ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯', 'warning');
                return;
            }
            
            if (categories.some(cat => cat.name.toLowerCase() === name.toLowerCase())) {
                showNotification('Ø§ÛŒÙ† Ø¯Ø³ØªÙ‡ Ù‚Ø¨Ù„Ø§Ù‹ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯', 'warning');
                return;
            }
            
            const colors = ['#3498db', '#2ecc71', '#9b59b6', '#e74c3c', '#f39c12', '#1abc9c', '#34495e'];
            const randomColor = colors[Math.floor(Math.random() * colors.length)];
            
            const newCategory = {
                id: Date.now(),
                name: name,
                color: randomColor
            };
            
            categories.push(newCategory);
            localStorage.setItem('categories', JSON.stringify(categories));
            
            loadCategories();
            input.value = '';
            
            showNotification(`Ø¯Ø³ØªÙ‡ "${name}" Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯`, 'success');
        }
        
        // ============ Ø­Ø°Ù Ø¯Ø³ØªÙ‡ ============
        function deleteCategory(categoryId) {
            if (confirm('Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ø¯Ø³ØªÙ‡ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ')) {
                const index = categories.findIndex(cat => cat.id === categoryId);
                if (index !== -1) {
                    categories.splice(index, 1);
                    localStorage.setItem('categories', JSON.stringify(categories));
                    loadCategories();
                    showNotification('Ø¯Ø³ØªÙ‡ Ø­Ø°Ù Ø´Ø¯', 'success');
                }
            }
        }
        
        // ============ Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ Ø¯Ø³ØªÙ‡â€ŒÙ‡Ø§ Ø¨Ù‡ Ù¾ÛŒØ´â€ŒÙØ±Ø¶ ============
        function resetCategories() {
            if (confirm('Ø¢ÛŒØ§ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø¯Ø³ØªÙ‡â€ŒÙ‡Ø§ Ø¨Ù‡ Ø­Ø§Ù„Øª Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø¨Ø§Ø²Ú¯Ø±Ø¯Ù†Ø¯ØŸ')) {
                categories = [
                    { id: 1, name: 'Ú©Ø§Ø±', color: '#3498db' },
                    { id: 2, name: 'Ø´Ø®ØµÛŒ', color: '#2ecc71' },
                    { id: 3, name: 'Ù¾Ø±ÙˆÚ˜Ù‡', color: '#9b59b6' },
                    { id: 4, name: 'Ù…Ù‡Ù…', color: '#e74c3c' }
                ];
                localStorage.setItem('categories', JSON.stringify(categories));
                loadCategories();
                showNotification('Ø¯Ø³ØªÙ‡â€ŒÙ‡Ø§ Ø¨Ù‡ Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù‡ Ø´Ø¯Ù†Ø¯', 'success');
            }
        }
        
        // ============ Ø°Ø®ÛŒØ±Ù‡ ÙˆØ§Ù‚Ø¹Ù‡ ============
        function saveEvent() {
            const title = document.getElementById('eventTitle').value.trim();
            const date = document.getElementById('eventDate').value;
            const time = document.getElementById('eventTime').value;
            const categoryId = document.getElementById('eventCategory').value;
            const priority = document.getElementById('eventPriority').value;
            const description = document.getElementById('eventDescription').value.trim();
            
            if (!title || !date || !time || !categoryId || !description) {
                showNotification('Ù„Ø·ÙØ§ ØªÙ…Ø§Ù… ÙÛŒÙ„Ø¯Ù‡Ø§ÛŒ Ø¶Ø±ÙˆØ±ÛŒ Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯', 'warning');
                return;
            }
            
            const category = categories.find(cat => cat.id == categoryId);
            
            const newEvent = {
                id: Date.now(),
                title,
                date,
                time,
                categoryId: categoryId,
                categoryName: category ? category.name : 'Ø¨Ø¯ÙˆÙ† Ø¯Ø³ØªÙ‡',
                priority,
                description,
                userId: currentUser.id,
                userName: `${currentUser.firstName} ${currentUser.lastName}`,
                createdAt: new Date().toISOString()
            };
            
            events.push(newEvent);
            localStorage.setItem('events', JSON.stringify(events));
            
            addEventToList(newEvent);
            updateStats();
            document.getElementById('eventForm').reset();
            setDefaultDates();
            
            showNotification('ÙˆØ§Ù‚Ø¹Ù‡ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯', 'success');
        }
        
        // ============ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† ÙˆØ§Ù‚Ø¹Ù‡ Ø¨Ù‡ Ù„ÛŒØ³Øª ============
        function addEventToList(event) {
            const eventsList = document.getElementById('eventsList');
            if (!eventsList) return;
            
            const eventElement = document.createElement('div');
            eventElement.className = 'event-item';
            eventElement.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                    <div style="font-weight: bold; color: var(--dark); font-size: 14px;">${event.title}</div>
                    <div style="color: var(--gray); font-size: 12px;">${event.date} - ${event.time}</div>
                </div>
                <div style="color: ${getPriorityColor(event.priority)}; font-size: 12px; margin-bottom: 6px;">
                    ğŸ·ï¸ ${event.categoryName} â€¢ ${getPriorityName(event.priority)}
                </div>
                <div style="color: var(--dark); font-size: 13px;">${event.description}</div>
            `;
            
            if (eventsList.firstChild) {
                eventsList.insertBefore(eventElement, eventsList.firstChild);
            } else {
                eventsList.appendChild(eventElement);
            }
        }
        
        // ============ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ÙˆÙ‚Ø§ÛŒØ¹ ============
        function loadEvents() {
            const eventsList = document.getElementById('eventsList');
            if (!eventsList) return;
            
            eventsList.innerHTML = '';
            
            const userEvents = events.filter(e => e.userId === currentUser.id);
            
            if (userEvents.length === 0) {
                eventsList.innerHTML = '<p style="text-align: center; color: var(--gray); padding: 30px; font-size: 13px;">Ù‡Ù†ÙˆØ² Ù‡ÛŒÚ† ÙˆØ§Ù‚Ø¹Ù‡â€ŒØ§ÛŒ Ø«Ø¨Øª Ù†Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯.</p>';
                return;
            }
            
            userEvents.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
            
            userEvents.forEach(event => addEventToList(event));
        }
        
        // ============ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§ ============
        function loadActivities() {
            const activitiesList = document.getElementById('recentActivities');
            if (!activitiesList) return;
            
            activitiesList.innerHTML = '';
            
            const recentEvents = events
                .filter(e => e.userId === currentUser.id)
                .sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt))
                .slice(0, 5);
            
            if (recentEvents.length === 0) {
                activitiesList.innerHTML = '<p style="text-align: center; color: var(--gray); padding: 20px; font-size: 13px;">Ù‡Ù†ÙˆØ² ÙØ¹Ø§Ù„ÛŒØªÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯.</p>';
                return;
            }
            
            recentEvents.forEach(event => {
                const activity = document.createElement('div');
                activity.className = 'event-item';
                activity.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <div style="background: ${getPriorityColor(event.priority)}; width: 8px; height: 8px; border-radius: 50%;"></div>
                        <div style="flex: 1;">
                            <div style="font-weight: bold; margin-bottom: 3px; font-size: 13px;">${event.title}</div>
                            <div style="font-size: 11px; color: var(--gray);">${formatDate(event.createdAt)}</div>
                        </div>
                    </div>
                `;
                activitiesList.appendChild(activity);
            });
        }
        
        // ============ Ø¢Ù¾Ø¯ÛŒØª Ø¢Ù…Ø§Ø± ============
        function updateStats() {
            const userEvents = events.filter(e => e.userId === currentUser.id);
            const today = new Date().toISOString().split('T')[0];
            const todayEvents = userEvents.filter(e => e.date === today).length;
            
            document.getElementById('totalEvents').textContent = userEvents.length;
            document.getElementById('totalUsers').textContent = users.length;
            document.getElementById('todayEvents').textContent = todayEvents;
            document.getElementById('completedProfile').textContent = currentUser.profileComplete ? 'Û±Û°Û°Ùª' : 'ÛµÛ°Ùª';
        }
        
        // ============ Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ ============
        async function uploadFiles(fileList) {
            if (!fileList || fileList.length === 0) return;
            
            const uploadedFilesContainer = document.getElementById('uploadedFiles');
            const loadingMessage = document.createElement('div');
            loadingMessage.innerHTML = '<p style="text-align: center; color: var(--gray);">Ø¯Ø± Ø­Ø§Ù„ Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§...</p>';
            uploadedFilesContainer.appendChild(loadingMessage);
            
            let uploadCount = 0;
            
            for (let i = 0; i < fileList.length; i++) {
                const file = fileList[i];
                
                // Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø­Ø¬Ù… (ÛµMB)
                if (file.size > 5 * 1024 * 1024) {
                    showNotification(`ÙØ§ÛŒÙ„ ${file.name} Ø­Ø¬Ù…Ø´ Ø²ÛŒØ§Ø¯ Ø§Ø³Øª (Ø­Ø¯Ø§Ú©Ø«Ø± ÛµMB)`, 'warning');
                    continue;
                }
                
                // Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ù†ÙˆØ¹ ÙØ§ÛŒÙ„
                const allowedTypes = [
                    'image/jpeg', 'image/png', 'image/gif',
                    'application/pdf', 
                    'application/msword',
                    'application/vnd.openxmlformats-officedocument.wordprocessingml.document',
                    'text/plain',
                    'application/zip',
                    'application/vnd.rar'
                ];
                
                if (!allowedTypes.includes(file.type)) {
                    showNotification(`Ù†ÙˆØ¹ ÙØ§ÛŒÙ„ ${file.name} Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯`, 'warning');
                    continue;
                }
                
                try {
                    // Ø§ÛŒØ¬Ø§Ø¯ Ø´ÛŒØ¡ ÙØ§ÛŒÙ„
                    const newFile = {
                        id: Date.now() + i,
                        name: file.name,
                        type: file.type,
                        size: file.size,
                        userId: currentUser.id,
                        userName: `${currentUser.firstName} ${currentUser.lastName}`,
                        uploadedAt: new Date().toISOString(),
                        // Ø°Ø®ÛŒØ±Ù‡ ÙØ§ÛŒÙ„ Ø¨Ù‡ ØµÙˆØ±Øª Base64
                        data: await fileToBase64(file)
                    };
                    
                    files.push(newFile);
                    
                    // Ù†Ù…Ø§ÛŒØ´ ÙØ§ÛŒÙ„ Ø¨Ù„Ø§ÙØ§ØµÙ„Ù‡ Ø¨Ø¹Ø¯ Ø§Ø² Ø¢Ù¾Ù„ÙˆØ¯
                    addFileToList(newFile);
                    
                    uploadCount++;
                    
                    // Ø°Ø®ÛŒØ±Ù‡ Ø¯Ø± localStorage
                    localStorage.setItem('files', JSON.stringify(files));
                    
                    // Ù†Ù…Ø§ÛŒØ´ Ù¾ÛŒØ§Ù… Ø¨Ø±Ø§ÛŒ Ù‡Ø± ÙØ§ÛŒÙ„
                    showNotification(`ÙØ§ÛŒÙ„ ${file.name} Ø¢Ù¾Ù„ÙˆØ¯ Ø´Ø¯`, 'success');
                    
                } catch (error) {
                    console.error('Ø®Ø·Ø§ Ø¯Ø± Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„:', error);
                    showNotification(`Ø®Ø·Ø§ Ø¯Ø± Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„ ${file.name}`, 'error');
                }
            }
            
            // Ø­Ø°Ù Ù¾ÛŒØ§Ù… Ù„ÙˆØ¯ÛŒÙ†Ú¯
            loadingMessage.remove();
            
            if (uploadCount > 0) {
                showNotification(`${uploadCount} ÙØ§ÛŒÙ„ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¢Ù¾Ù„ÙˆØ¯ Ø´Ø¯Ù†Ø¯`, 'success');
                
                // Ø¢Ù¾Ø¯ÛŒØª Ø¢Ù…Ø§Ø± Ø¯Ø± Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ†
                if (currentUser.role === 'admin') {
                    populateAdminPanel();
                }
            } else {
                showNotification('Ù‡ÛŒÚ† ÙØ§ÛŒÙ„ÛŒ Ø¢Ù¾Ù„ÙˆØ¯ Ù†Ø´Ø¯', 'warning');
            }
        }
        
        // ============ ØªØ¨Ø¯ÛŒÙ„ ÙØ§ÛŒÙ„ Ø¨Ù‡ Base64 ============
        function fileToBase64(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.readAsDataURL(file);
                reader.onload = () => resolve(reader.result);
                reader.onerror = error => reject(error);
            });
        }
        
        // ============ Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† ÙØ§ÛŒÙ„ Ø¨Ù‡ Ù„ÛŒØ³Øª Ù†Ù…Ø§ÛŒØ´ ============
        function addFileToList(file) {
            const uploadedFiles = document.getElementById('uploadedFiles');
            if (!uploadedFiles) return;
            
            // Ø­Ø°Ù Ù¾ÛŒØ§Ù… "Ù‡Ù†ÙˆØ² ÙØ§ÛŒÙ„ÛŒ Ø¢Ù¾Ù„ÙˆØ¯ Ù†Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯" Ø§Ú¯Ø± ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯
            const emptyMessage = uploadedFiles.querySelector('p[style*="text-align: center"]');
            if (emptyMessage) {
                emptyMessage.remove();
            }
            
            const fileElement = document.createElement('div');
            fileElement.className = 'event-item';
            fileElement.dataset.fileId = file.id;
            fileElement.innerHTML = `
                <div style="display: flex; align-items: center; gap: 10px;">
                    <div style="font-size: 24px; color: ${getFileColor(file.type)};">
                        ${getFileIcon(file.type)}
                    </div>
                    <div style="flex: 1; min-width: 0;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                            <div style="font-weight: bold; font-size: 14px; color: var(--dark); white-space: nowrap; overflow: hidden; text-overflow: ellipsis;" title="${file.name}">
                                ${file.name}
                            </div>
                            <div style="font-size: 11px; color: var(--gray);">
                                ${formatDate(file.uploadedAt)}
                            </div>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div style="font-size: 12px; color: var(--gray);">
                                ${formatBytes(file.size)}
                                <span style="margin: 0 5px;">â€¢</span>
                                ${getFileTypeName(file.type)}
                            </div>
                            <div style="display: flex; gap: 5px;">
                                <button onclick="viewFile('${file.id}')" class="btn-view" style="background: var(--primary); color: white; border: none; padding: 4px 10px; border-radius: 4px; cursor: pointer; font-size: 12px; display: flex; align-items: center; gap: 3px;">
                                    ğŸ‘ï¸ Ù…Ø´Ø§Ù‡Ø¯Ù‡
                                </button>
                                <button onclick="downloadFile('${file.id}')" class="btn-download" style="background: var(--success); color: white; border: none; padding: 4px 10px; border-radius: 4px; cursor: pointer; font-size: 12px; display: flex; align-items: center; gap: 3px;">
                                    ğŸ“¥ Ø¯Ø§Ù†Ù„ÙˆØ¯
                                </button>
                                <button onclick="deleteFile('${file.id}')" class="btn-delete" style="background: var(--danger); color: white; border: none; padding: 4px 10px; border-radius: 4px; cursor: pointer; font-size: 12px; display: flex; align-items: center; gap: 3px;">
                                    ğŸ—‘ï¸ Ø­Ø°Ù
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¨Ù‡ Ø§Ø¨ØªØ¯Ø§ÛŒ Ù„ÛŒØ³Øª
            if (uploadedFiles.firstChild) {
                uploadedFiles.insertBefore(fileElement, uploadedFiles.firstChild);
            } else {
                uploadedFiles.appendChild(fileElement);
            }
        }
        
        // ============ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ Ø§Ø² localStorage ============
        function loadFiles() {
            const uploadedFiles = document.getElementById('uploadedFiles');
            if (!uploadedFiles) return;
            
            uploadedFiles.innerHTML = '';
            
            // ÙÛŒÙ„ØªØ± ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø± Ø¬Ø§Ø±ÛŒ
            const userFiles = files.filter(f => f.userId === currentUser.id);
            
            if (userFiles.length === 0) {
                uploadedFiles.innerHTML = `
                    <div style="text-align: center; padding: 30px; color: var(--gray);">
                        <div style="font-size: 48px; margin-bottom: 10px;">ğŸ“</div>
                        <p style="font-size: 14px; margin-bottom: 10px;">Ù‡Ù†ÙˆØ² ÙØ§ÛŒÙ„ÛŒ Ø¢Ù¾Ù„ÙˆØ¯ Ù†Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯</p>
                        <p style="font-size: 12px; color: var(--primary);">ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ù†ÛŒØ¯</p>
                    </div>
                `;
                return;
            }
            
            // Ù…Ø±ØªØ¨ Ø³Ø§Ø²ÛŒ (Ø¬Ø¯ÛŒØ¯ØªØ±ÛŒÙ† Ø§ÙˆÙ„)
            userFiles.sort((a, b) => new Date(b.uploadedAt) - new Date(a.uploadedAt));
            
            // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¨Ù‡ Ù„ÛŒØ³Øª
            userFiles.forEach(file => addFileToList(file));
        }
        
        // ============ Ù…Ø´Ø§Ù‡Ø¯Ù‡ ÙØ§ÛŒÙ„ ============
        function viewFile(fileId) {
            const file = files.find(f => f.id == fileId);
            if (!file) {
                showNotification('ÙØ§ÛŒÙ„ ÛŒØ§ÙØª Ù†Ø´Ø¯', 'error');
                return;
            }
            
            // Ø§Ú¯Ø± ÙØ§ÛŒÙ„ Ø¹Ú©Ø³ Ø§Ø³Øª
            if (file.type.startsWith('image/')) {
                showImageModal(file);
            }
            // Ø§Ú¯Ø± ÙØ§ÛŒÙ„ PDF Ø§Ø³Øª
            else if (file.type === 'application/pdf') {
                showPdfModal(file);
            }
            // Ø¨Ø±Ø§ÛŒ Ø³Ø§ÛŒØ± ÙØ§ÛŒÙ„â€ŒÙ‡Ø§
            else {
                downloadFile(fileId);
            }
        }
        
        // ============ Ù†Ù…Ø§ÛŒØ´ Ù…ÙˆØ¯Ø§Ù„ Ø¹Ú©Ø³ ============
        function showImageModal(file) {
            const modalHTML = `
                <div class="modal-overlay" id="imageModal">
                    <div class="modal" style="max-width: 90%; max-height: 90%;">
                        <div class="modal-header">
                            <h3>ğŸ–¼ï¸ ${file.name}</h3>
                            <button class="close-modal" onclick="closeModal('imageModal')">&times;</button>
                        </div>
                        <div class="modal-body" style="text-align: center; overflow: auto;">
                            <img src="${file.data}" alt="${file.name}" style="max-width: 100%; max-height: 70vh; border-radius: 8px;">
                            <div style="margin-top: 20px; display: flex; justify-content: center; gap: 10px;">
                                <button onclick="downloadFile('${file.id}')" class="btn btn-primary">
                                    ğŸ“¥ Ø¯Ø§Ù†Ù„ÙˆØ¯ ÙØ§ÛŒÙ„
                                </button>
                                <button onclick="closeModal('imageModal')" class="btn btn-secondary">
                                    Ø¨Ø³ØªÙ†
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', modalHTML);
        }
        
        // ============ Ù†Ù…Ø§ÛŒØ´ Ù…ÙˆØ¯Ø§Ù„ PDF ============
        function showPdfModal(file) {
            const modalHTML = `
                <div class="modal-overlay" id="pdfModal">
                    <div class="modal" style="max-width: 90%; max-height: 90%; width: 800px;">
                        <div class="modal-header">
                            <h3>ğŸ“• ${file.name}</h3>
                            <button class="close-modal" onclick="closeModal('pdfModal')">&times;</button>
                        </div>
                        <div class="modal-body" style="height: 70vh;">
                            <iframe src="${file.data}" style="width: 100%; height: 100%; border: none; border-radius: 8px;"></iframe>
                            <div style="margin-top: 20px; display: flex; justify-content: center; gap: 10px;">
                                <button onclick="downloadFile('${file.id}')" class="btn btn-primary">
                                    ğŸ“¥ Ø¯Ø§Ù†Ù„ÙˆØ¯ PDF
                                </button>
                                <button onclick="closeModal('pdfModal')" class="btn btn-secondary">
                                    Ø¨Ø³ØªÙ†
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', modalHTML);
        }
        
        // ============ Ø¯Ø§Ù†Ù„ÙˆØ¯ ÙØ§ÛŒÙ„ ============
        function downloadFile(fileId) {
            const file = files.find(f => f.id == fileId);
            if (!file) {
                showNotification('ÙØ§ÛŒÙ„ ÛŒØ§ÙØª Ù†Ø´Ø¯', 'error');
                return;
            }
            
            // Ø§ÛŒØ¬Ø§Ø¯ Ù„ÛŒÙ†Ú© Ø¯Ø§Ù†Ù„ÙˆØ¯
            const link = document.createElement('a');
            link.href = file.data;
            link.download = file.name;
            link.style.display = 'none';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            showNotification(`ÙØ§ÛŒÙ„ ${file.name} Ø¯Ø± Ø­Ø§Ù„ Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø§Ø³Øª`, 'success');
        }
        
        // ============ Ø­Ø°Ù ÙØ§ÛŒÙ„ ============
        function deleteFile(fileId) {
            if (!confirm('Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† ÙØ§ÛŒÙ„ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ')) {
                return;
            }
            
            const index = files.findIndex(f => f.id == fileId);
            if (index !== -1) {
                const fileName = files[index].name;
                files.splice(index, 1);
                localStorage.setItem('files', JSON.stringify(files));
                
                // Ø­Ø°Ù Ø§Ø² Ù†Ù…Ø§ÛŒØ´
                const fileElement = document.querySelector(`[data-file-id="${fileId}"]`);
                if (fileElement) {
                    fileElement.remove();
                }
                
                // Ø§Ú¯Ø± ÙØ§ÛŒÙ„ÛŒ Ø¨Ø§Ù‚ÛŒ Ù†Ù…Ø§Ù†Ø¯Ù‡ØŒ Ù¾ÛŒØ§Ù… Ø®Ø§Ù„ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø¯Ù‡
                const userFiles = files.filter(f => f.userId === currentUser.id);
                if (userFiles.length === 0) {
                    loadFiles();
                }
                
                showNotification(`ÙØ§ÛŒÙ„ ${fileName} Ø­Ø°Ù Ø´Ø¯`, 'success');
            }
        }
        
        // ============ Ø¬Ø³ØªØ¬Ùˆ Ø¯Ø± ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ ============
        function searchFiles(keyword) {
            const userFiles = files.filter(f => 
                f.userId === currentUser.id && 
                f.name.toLowerCase().includes(keyword.toLowerCase())
            );
            
            const uploadedFiles = document.getElementById('uploadedFiles');
            if (!uploadedFiles) return;
            
            uploadedFiles.innerHTML = '';
            
            if (userFiles.length === 0) {
                uploadedFiles.innerHTML = '<p style="text-align: center; color: var(--gray); padding: 20px; font-size: 13px;">ÙØ§ÛŒÙ„ÛŒ Ø¨Ø§ Ø§ÛŒÙ† Ù†Ø§Ù… ÛŒØ§ÙØª Ù†Ø´Ø¯</p>';
                return;
            }
            
            userFiles.forEach(file => addFileToList(file));
        }
        
        // ============ Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡ ============
        function uploadSampleFiles() {
            showNotification('Ø¯Ø± Ø­Ø§Ù„ Ø¢Ù¾Ù„ÙˆØ¯ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡...', 'info');
            
            // Ø§ÛŒØ¬Ø§Ø¯ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡
            const sampleFiles = [
                { 
                    name: 'Ø³Ù†Ø¯-Ù†Ù…ÙˆÙ†Ù‡.pdf', 
                    type: 'application/pdf', 
                    size: 102400,
                    data: 'data:application/pdf;base64,SGVsbG8gUERGIFNhbXBsZQ==' 
                },
                { 
                    name: 'Ø¹Ú©Ø³-Ù†Ù…ÙˆÙ†Ù‡.jpg', 
                    type: 'image/jpeg', 
                    size: 204800,
                    data: 'data:image/jpeg;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7' 
                },
                { 
                    name: 'Ù…ØªÙ†-Ù†Ù…ÙˆÙ†Ù‡.txt', 
                    type: 'text/plain', 
                    size: 5120,
                    data: 'data:text/plain;base64,SGVsbG8gV29ybGQh' 
                }
            ];
            
            // Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ø¢Ù¾Ù„ÙˆØ¯
            sampleFiles.forEach((sample, index) => {
                setTimeout(() => {
                    const fakeFile = {
                        id: Date.now() + index,
                        name: sample.name,
                        type: sample.type,
                        size: sample.size,
                        userId: currentUser.id,
                        userName: `${currentUser.firstName} ${currentUser.lastName}`,
                        uploadedAt: new Date().toISOString(),
                        data: sample.data
                    };
                    
                    files.push(fakeFile);
                    localStorage.setItem('files', JSON.stringify(files));
                    addFileToList(fakeFile);
                    
                    if (index === sampleFiles.length - 1) {
                        showNotification('ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù†Ù…ÙˆÙ†Ù‡ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯Ù†Ø¯', 'success');
                    }
                }, index * 500);
            });
        }
        
        // ============ Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ Ù‡Ù…Ù‡ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ ============
        function clearAllFiles() {
            if (confirm('Ø¢ÛŒØ§ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ ØªÙ…Ø§Ù… ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¢Ù¾Ù„ÙˆØ¯ Ø´Ø¯Ù‡ Ø±Ø§ Ù¾Ø§Ú© Ú©Ù†ÛŒØ¯ØŸ')) {
                // ÙÙ‚Ø· ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø± Ø¬Ø§Ø±ÛŒ
                files = files.filter(f => f.userId !== currentUser.id);
                localStorage.setItem('files', JSON.stringify(files));
                loadFiles();
                showNotification('ØªÙ…Ø§Ù… ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§ Ù¾Ø§Ú© Ø´Ø¯Ù†Ø¯', 'success');
            }
        }
        
        // ============ Ø¨Ø³ØªÙ† Ù…ÙˆØ¯Ø§Ù„ ============
        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.remove();
            }
        }
        
        // ============ Ø¬Ø³ØªØ¬Ùˆ ============
        function performSearch() {
            const keyword = document.getElementById('searchKeyword').value.trim();
            const type = document.getElementById('searchType').value;
            
            if (!keyword) {
                showNotification('Ù„Ø·ÙØ§ Ø¹Ø¨Ø§Ø±Øª Ø¬Ø³ØªØ¬Ùˆ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯', 'warning');
                return;
            }
            
            let results = [];
            
            if (type === 'events' || type === 'all') {
                const filteredEvents = events.filter(event => 
                    event.userId === currentUser.id && (
                        event.title.includes(keyword) || 
                        event.description.includes(keyword)
                    )
                );
                results.push(...filteredEvents.map(e => ({
                    type: 'event',
                    title: e.title,
                    description: e.description,
                    date: e.date
                })));
            }
            
            if (type === 'users' || type === 'all') {
                const filteredUsers = users.filter(user => 
                    user.id !== currentUser.id && (
                        user.firstName.includes(keyword) || 
                        user.lastName.includes(keyword) ||
                        user.email.includes(keyword)
                    )
                );
                results.push(...filteredUsers.map(u => ({
                    type: 'user',
                    title: `${u.firstName} ${u.lastName}`,
                    description: u.email,
                    date: u.createdAt.split('T')[0]
                })));
            }
            
            displaySearchResults(results);
            showNotification(`${results.length} Ù†ØªÛŒØ¬Ù‡ Ø¨Ø±Ø§ÛŒ "${keyword}" ÛŒØ§ÙØª Ø´Ø¯`, 'success');
        }
        
        // ============ Ù†Ù…Ø§ÛŒØ´ Ù†ØªØ§ÛŒØ¬ Ø¬Ø³ØªØ¬Ùˆ ============
        function displaySearchResults(results) {
            const container = document.getElementById('searchResults');
            if (!container) return;
            
            if (results.length === 0) {
                container.innerHTML = '<p style="color: var(--gray); text-align: center; padding: 30px; font-size: 13px;">Ù‡ÛŒÚ† Ù†ØªÛŒØ¬Ù‡â€ŒØ§ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯.</p>';
                return;
            }
            
            let html = '<div style="display: flex; flex-direction: column; gap: 10px;">';
            
            results.forEach(result => {
                const icon = result.type === 'event' ? 'ğŸ“' : 'ğŸ‘¤';
                const typeText = result.type === 'event' ? 'ÙˆØ§Ù‚Ø¹Ù‡' : 'Ú©Ø§Ø±Ø¨Ø±';
                
                html += `
                    <div style="background: white; padding: 12px; border-radius: 8px; border: 1px solid #eee;">
                        <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 6px;">
                            <div style="background: ${result.type === 'event' ? 'var(--primary)' : 'var(--accent)'}; 
                                 color: white; width: 30px; height: 30px; border-radius: 50%; 
                                 display: flex; align-items: center; justify-content: center; font-size: 14px;">
                                ${icon}
                            </div>
                            <div>
                                <div style="font-weight: bold; font-size: 13px;">${result.title}</div>
                                <div style="font-size: 11px; color: var(--gray);">${typeText} â€¢ ${result.date}</div>
                            </div>
                        </div>
                        <div style="color: var(--dark); font-size: 12px;">${result.description}</div>
                    </div>
                `;
            });
            
            html += '</div>';
            container.innerHTML = html;
        }
        
        // ============ Ù¾Ø± Ú©Ø±Ø¯Ù† Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ† ============
        function populateAdminPanel() {
            const table = document.getElementById('adminUsersTable');
            if (!table) return;
            
            table.innerHTML = '';
            
            users.forEach(user => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${user.firstName} ${user.lastName}</td>
                    <td>${user.email}</td>
                    <td>
                        <span style="background: ${user.role === 'admin' ? 'var(--accent)' : 'var(--primary)'}; 
                              color: white; padding: 3px 8px; border-radius: 12px; font-size: 11px;">
                            ${user.role === 'admin' ? 'Ø§Ø¯Ù…ÛŒÙ†' : 'Ú©Ø§Ø±Ø¨Ø±'}
                        </span>
                    </td>
                    <td>
                        <button onclick="adminEditUser(${user.id})" style="background: none; border: none; color: var(--primary); cursor: pointer; margin-left: 5px; font-size: 14px;">âœï¸</button>
                        <button onclick="adminDeleteUser(${user.id})" style="background: none; border: none; color: var(--danger); cursor: pointer; font-size: 14px;">ğŸ—‘ï¸</button>
                    </td>
                `;
                table.appendChild(row);
            });
            
            const today = new Date().toISOString().split('T')[0];
            const todayEvents = events.filter(e => e.date === today).length;
            
            document.getElementById('adminTotalUsers').textContent = users.length;
            document.getElementById('adminTotalEvents').textContent = events.length;
            document.getElementById('adminTodayEvents').textContent = todayEvents;
            document.getElementById('adminTotalFiles').textContent = files.length;
        }
        
        // ============ ØªØ§Ø¨Ø¹â€ŒÙ‡Ø§ÛŒ Ù¾Ù†Ù„ Ø§Ø¯Ù…ÛŒÙ† ============
        function adminEditUser(userId) {
            showNotification('ÙˆÛŒØ±Ø§ÛŒØ´ Ú©Ø§Ø±Ø¨Ø± Ø¯Ø± Ø­Ø§Ù„ ØªÙˆØ³Ø¹Ù‡...', 'info');
        }
        
        function adminDeleteUser(userId) {
            if (confirm('Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ú©Ø§Ø±Ø¨Ø± Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ')) {
                const index = users.findIndex(u => u.id === userId);
                if (index !== -1) {
                    if (currentUser.id === userId) {
                        showNotification('Ø´Ù…Ø§ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø­Ø³Ø§Ø¨ Ø®ÙˆØ¯ØªØ§Ù† Ø±Ø§ Ø­Ø°Ù Ú©Ù†ÛŒØ¯', 'error');
                        return;
                    }
                    
                    users.splice(index, 1);
                    localStorage.setItem('users', JSON.stringify(users));
                    populateAdminPanel();
                    updateStats();
                    showNotification('Ú©Ø§Ø±Ø¨Ø± Ø­Ø°Ù Ø´Ø¯', 'success');
                }
            }
        }
        
        function exportData() {
            const data = {
                users,
                events,
                files,
                categories,
                exportDate: new Date().toISOString()
            };
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `backup-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            
            showNotification('Ø®Ø±ÙˆØ¬ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¯Ø§Ù†Ù„ÙˆØ¯ Ø´Ø¯', 'success');
        }
        
        function clearOldEvents() {
            if (confirm('Ø¢ÛŒØ§ Ø§Ø² Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ ÙˆÙ‚Ø§ÛŒØ¹ Ù‚Ø¯ÛŒÙ…ÛŒ Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ')) {
                const oneMonthAgo = new Date();
                oneMonthAgo.setMonth(oneMonthAgo.getMonth() - 1);
                
                events = events.filter(e => new Date(e.createdAt) > oneMonthAgo);
                localStorage.setItem('events', JSON.stringify(events));
                
                if (currentUser) {
                    loadEvents();
                    updateStats();
                }
                
                showNotification('ÙˆÙ‚Ø§ÛŒØ¹ Ù‚Ø¯ÛŒÙ…ÛŒ Ù¾Ø§Ú©Ø³Ø§Ø²ÛŒ Ø´Ø¯Ù†Ø¯', 'success');
            }
        }
        
        function backupSystem() {
            showNotification('Ù¾Ø´ØªÛŒØ¨Ø§Ù†â€ŒÚ¯ÛŒØ±ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯', 'success');
        }
        
        function resetSystem() {
            if (confirm('âš ï¸ Ø¢ÛŒØ§ Ø§Ø² Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ Ú©Ø§Ù…Ù„ Ø³ÛŒØ³ØªÙ… Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ Ø§ÛŒÙ† Ø¹Ù…Ù„ ØºÛŒØ±Ù‚Ø§Ø¨Ù„ Ø¨Ø§Ø²Ú¯Ø´Øª Ø§Ø³Øª!')) {
                localStorage.clear();
                users = [];
                events = [];
                files = [];
                currentUser = null;
                
                showNotification('Ø³ÛŒØ³ØªÙ… Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ Ø´Ø¯', 'success');
                setTimeout(() => location.reload(), 1000);
            }
        }
        
        // ============ Ø®Ø±ÙˆØ¬ ============
        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            
            document.getElementById('dashboard').style.display = 'none';
            document.getElementById('loginPage').style.display = 'block';
            
            document.getElementById('loginForm').reset();
            switchForm('login');
            
            showNotification('Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø®Ø§Ø±Ø¬ Ø´Ø¯ÛŒØ¯', 'info');
        }
        
        // ============ Ù†Ù…Ø§ÛŒØ´ Ù†ÙˆØªÛŒÙÛŒÚ©ÛŒØ´Ù† ============
        function showNotification(message, type = 'info') {
            const notification = document.getElementById('notification');
            if (!notification) return;
            
            notification.textContent = message;
            notification.style.display = 'block';
            
            const colors = {
                'success': 'var(--success)',
                'error': 'var(--danger)',
                'warning': 'var(--warning)',
                'info': 'var(--dark)'
            };
            notification.style.backgroundColor = colors[type] || 'var(--dark)';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 4000);
        }
        
        // ============ ØªÙˆØ§Ø¨Ø¹ Ú©Ù…Ú©ÛŒ ============
        function getPriorityName(priority) {
            const names = {
                'low': 'Ú©Ù…',
                'medium': 'Ù…ØªÙˆØ³Ø·',
                'high': 'Ø²ÛŒØ§Ø¯'
            };
            return names[priority] || 'Ù†Ø§Ù…Ø´Ø®Øµ';
        }
        
        function getPriorityColor(priority) {
            const colors = {
                'low': '#2ecc71',
                'medium': '#f39c12',
                'high': '#e74c3c'
            };
            return colors[priority] || '#95a5a6';
        }
        
        function getFileIcon(fileType) {
            if (fileType.startsWith('image/')) return 'ğŸ–¼ï¸';
            if (fileType.includes('pdf')) return 'ğŸ“•';
            if (fileType.includes('word')) return 'ğŸ“„';
            if (fileType.includes('text')) return 'ğŸ“';
            if (fileType.includes('zip') || fileType.includes('rar')) return 'ğŸ“¦';
            return 'ğŸ“';
        }
        
        function getFileColor(fileType) {
            if (fileType.startsWith('image/')) return '#3498db';
            if (fileType.includes('pdf')) return '#e74c3c';
            if (fileType.includes('word')) return '#2ecc71';
            if (fileType.includes('text')) return '#f39c12';
            if (fileType.includes('zip') || fileType.includes('rar')) return '#9b59b6';
            return '#95a5a6';
        }
        
        function getFileTypeName(fileType) {
            if (fileType.startsWith('image/')) return 'Ø¹Ú©Ø³';
            if (fileType.includes('pdf')) return 'PDF';
            if (fileType.includes('word')) return 'Ø³Ù†Ø¯ Word';
            if (fileType.includes('text')) return 'Ù…ØªÙ†';
            if (fileType.includes('zip')) return 'ÙØ´Ø±Ø¯Ù‡ ZIP';
            if (fileType.includes('rar')) return 'ÙØ´Ø±Ø¯Ù‡ RAR';
            return 'ÙØ§ÛŒÙ„';
        }
        
        function formatBytes(bytes) {
            if (bytes === 0) return '0 Ø¨Ø§ÛŒØª';
            const k = 1024;
            const sizes = ['Ø¨Ø§ÛŒØª', 'Ú©ÛŒÙ„ÙˆØ¨Ø§ÛŒØª', 'Ù…Ú¯Ø§Ø¨Ø§ÛŒØª', 'Ú¯ÛŒÚ¯Ø§Ø¨Ø§ÛŒØª'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }
        
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('fa-IR');
        }
    </script>
</body>
</html>
